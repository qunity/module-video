@import "default";

@player-top-bar-title-color: #eee;
@player-top-bar-title-shadow: 0 0 5px rgba(0, 0, 0, .3);
@player-top-bar-description-color: #eee;
@player-top-bar-description-shadow: 0 0 5px rgba(0, 0, 0, .3);
@player-top-bar-mask-gradient: linear-gradient(to bottom, rgba(0, 0, 0, .7), transparent);
@player-top-bar-background-gradient-color: rgba(0, 0, 0, .7);

@player-big-button-hover-color: #eee;
@player-big-button-mask-gradient: radial-gradient(rgba(0, 0, 0, .7), transparent);
@player-big-button-background-gradient-color: rgba(0, 0, 0, .7);
@player-big-button-size: 6em;
@player-big-button-wrapper-size: 8em;

@player-control-bar-height: 5em;
@player-control-bar-elements-color: #eee;
@player-control-bar-background-color: rgba(0, 0, 0, .3);
@player-control-bar-background-filter: blur(10px);

@player-error-message-color: #eee;
@player-error-description-size: 1.8em;
@player-error-description-color: rgba(238, 238, 238, .7);
@player-error-background-color: rgb(40, 40, 40);

.vjs-m2luma-skin {

  //
  // Restyle video initialization and ended states
  // _____________________________________________
  &.video-js {
    &.vjs-preview, &.vjs-ended {
      .vjs-big-button {
        .vjs-icon-placeholder {
          &:hover {
            filter: drop-shadow(0 0 .5em @player-big-button-hover-color);
            transform: scale(1.05);
          }

          &:active {
            transform: scale(.95);
          }
        }
      }
    }
  }

  //
  // TopBar video component
  // _____________________________________________
  .vjs-top-bar {
    transition: .15s;

    &:before {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      mask: @player-top-bar-mask-gradient;
      background-color: @player-top-bar-background-gradient-color;
      z-index: -1;
    }

    .vjs-top-title {
      line-height: 1.1;
      color: @player-top-bar-title-color;
      text-shadow: @player-top-bar-title-shadow;
    }

    .vjs-top-description {
      line-height: 1.2;
      color: @player-top-bar-description-color;
      text-shadow: @player-top-bar-description-shadow;
    }
  }

  //
  // BigButton video component
  // _____________________________________________
  .vjs-big-button {
    button {
      display: flex;
      justify-content: center;
      align-items: center;

      &:before {
        content: '';
        position: absolute;
        width: @player-big-button-wrapper-size;
        height: @player-big-button-wrapper-size;
        border-radius: @player-big-button-wrapper-size;
        mask: @player-big-button-mask-gradient;
        background-color: @player-big-button-background-gradient-color;
        z-index: -1;
      }
    }

    .vjs-icon-placeholder:hover {
      filter: none;
    }
  }

  //
  // ControlBar video component
  // _____________________________________________
  .vjs-control-bar {
    height: @player-control-bar-height;
    color: @player-control-bar-elements-color;
    background-color: @player-control-bar-background-color;
    backdrop-filter: @player-control-bar-background-filter;

    .vjs-time-control, .vjs-volume-control {
      display: flex;
      align-items: center;
      height: 100% !important;
    }

    .vjs-play-control, .vjs-fullscreen-control {
      width: 4.5em;
    }

    .vjs-play-control .vjs-icon-placeholder {
      margin-left: .5em;
    }

    .vjs-fullscreen-control .vjs-icon-placeholder {
      margin-right: .5em;
    }

    .vjs-volume-level, .vjs-play-progress, .vjs-mouse-display {
      background-color: @player-control-bar-elements-color;
    }

    .vjs-play-progress, .vjs-mouse-display {
      .vjs-time-tooltip, .vjs-volume-tooltip {
        top: calc(@player-control-bar-height / -2.3);
        color: @player-control-bar-elements-color;
        background: transparent;
      }
    }

    .vjs-progress-control:hover {
      .vjs-time-tooltip, .vjs-progress-holder {
        font-size: 1em;
      }
    }

    .vjs-play-progress {
      .vjs-icon-placeholder {
        line-height: unset;
      }

      .vjs-time-tooltip {
        display: none;
      }
    }
  }

  //
  // ErrorInfo video component
  // _____________________________________________
  .vjs-error-info {
    .vjs-error-icon:before {
      opacity: .7;
    }

    .vjs-error-message {
      font-weight: 600;
      line-height: 1.1;
      color: @player-error-message-color;
    }

    .vjs-error-description {
      line-height: 1.2;
      color: @player-error-description-color;
    }
  }
}
